(this["webpackJsonppomodoro-timer"]=this["webpackJsonppomodoro-timer"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),i=a.n(r),o=(a(11),a(2)),s=a(1),m=a(3);var l=function(e){var t=e.changeTime,a=e.getTime,n=e.mode;function r(e){switch(e.target.dataset.testid){case"decrease-focus":t("focus",-300);break;case"increase-focus":t("focus",300);break;case"decrease-break":t("break",-60);break;case"increase-break":t("break",60);break;default:console.log("Something went wrong! @handleChange")}}return c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"input-group input-group-lg mb-2"},c.a.createElement("span",{className:"input-group-text","data-testid":"duration-".concat(n)},n.charAt(0).toUpperCase()+n.slice(1)," Duration: ",a("".concat(n,"Time"))),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"decrease-".concat(n),onClick:r},c.a.createElement("span",{className:"oi oi-minus"})),c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"increase-".concat(n),onClick:r},c.a.createElement("span",{className:"oi oi-plus"})))))};var u=function(e){var t,a=e.playPause,n=e.get,r=e.stop;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"btn-group btn-group-lg mb-2",role:"group","aria-label":"Timer controls"},c.a.createElement("button",{type:"button",className:"btn btn-primary","data-testid":"play-pause",title:"Start or pause timer",onClick:a},c.a.createElement("span",{className:(t={oi:!0,"oi-media-play":!n("isTimerRunning"),"oi-media-pause":n("isTimerRunning")},Object.entries(t).reduce((function(e,t){var a=Object(m.a)(t,2),n=a[0],c=a[1];return e.concat(c?n:void 0)}),[]).filter((function(e){return void 0!==e})).join(" "))})),c.a.createElement("button",{type:"button",className:"btn btn-secondary",title:"Stop the session",onClick:r,disabled:!n("isTimerRunning")},c.a.createElement("span",{className:"oi oi-media-stop"})))))};var f=function(e){var t=e.getTime,a=e.get;if(!a("sessionStarted"))return null;var n=a("focus")?"focus":"break";return c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col"},c.a.createElement("h2",{"data-testid":"session-title"},a("focus")?"Focusing ":"On Break ","for ",t("".concat(n,"Time"))," minutes"),c.a.createElement("p",{className:"lead","data-testid":"session-sub-title"},t("".concat(n,"TimeLeft"))," remaining"),c.a.createElement("h3",null,a("isTimerRunning")?"":"PAUSED")))};var d=function(e){var t=e.get;if(!t("sessionStarted"))return null;var a=t("focus")?"focus":"break",n=100-t("".concat(a,"TimeLeft"))/t("".concat(a,"Time"))*100;return c.a.createElement("div",{className:"row mb-2"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"progress",style:{height:"20px"}},c.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n,style:{width:"".concat(n,"%")}}))))};var b=function(){var e=Object(n.useState)(Object(s.a)({},{focusTime:1500,focusTimeLeft:1500,focusTimeFloor:300,focusTimeRoof:3600,breakTime:300,breakTimeLeft:300,breakTimeFloor:60,breakTimeRoof:900,isTimerRunning:!1,focus:!0,sessionStarted:!1})),t=Object(m.a)(e,2),a=t[0],r=t[1];function i(e){r((function(){return Object(s.a)(Object(s.a)({},a),{},Object(o.a)({},e,a[e]-1))}))}function b(e){return e<10?"0"+e:e}function p(e){return"".concat(b(Math.floor(a[e]/60)),":").concat(b(a[e]%60))}function T(e){return a[e]}function g(e,t){var n=t<0?Math.max(a[e+"TimeFloor"],a[e+"Time"]+t):Math.min(a[e+"TimeRoof"],a[e+"Time"]+t);r((function(){var t;return Object(s.a)(Object(s.a)({},a),{},(t={},Object(o.a)(t,e+"Time",n),Object(o.a)(t,e+"TimeLeft",n),t))}))}return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){if(a.focusTimeLeft<=0||a.breakTimeLeft<=0){var e=new Audio("https://onlineclock.net/audio/options/default.mp3").play();console.log(e),r((function(){return Object(s.a)(Object(s.a)({},a),{},{focusTimeLeft:a.focusTime,breakTimeLeft:a.breakTime,focus:!a.focus})}))}else a.focus?i("focusTimeLeft"):i("breakTimeLeft")}),a.isTimerRunning?1e3:null),c.a.createElement("div",{className:"pomodoro"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement(l,{changeTime:g,getTime:p,mode:"focus"})),c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"float-right"},c.a.createElement(l,{changeTime:g,getTime:p,mode:"break"})))),c.a.createElement(u,{playPause:function(){r((function(){return Object(s.a)(Object(s.a)({},a),{},{isTimerRunning:!a.isTimerRunning,sessionStarted:!0})}))},get:T,stop:function(){r((function(){return Object(s.a)(Object(s.a)({},a),{},{isTimerRunning:!1,sessionStarted:!1,focusTimeLeft:a.focusTime,breakTimeLeft:a.breakTime,focus:!0})}))}}),c.a.createElement(f,{getTime:p,get:T}),c.a.createElement(d,{get:T}))};var p=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header container"},c.a.createElement("h1",null,"Pomodoro Timer")),c.a.createElement("div",{className:"container"},c.a.createElement(b,null)))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root"))},6:function(e,t,a){e.exports=a(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.bbde1837.chunk.js.map